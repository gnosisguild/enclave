{
  "_format": "hh3-artifact-1",
  "contractName": "CommitteeSortition",
  "sourceName": "contracts/sortition/CommitteeSortition.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_ciphernodeRegistry",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_bondingRegistry",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_submissionWindowSeconds",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "CommitteeAlreadyFinalized",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NodeAlreadySubmitted",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NodeNotEligible",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "OnlyCiphernodeRegistry",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "RoundAlreadyInitialized",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "RoundNotInitialized",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SubmissionWindowClosed",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SubmissionWindowNotClosed",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "e3Id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address[]",
          "name": "committee",
          "type": "address[]"
        }
      ],
      "name": "CommitteeFinalized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "e3Id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint32",
          "name": "committeeSize",
          "type": "uint32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "seed",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint64",
          "name": "startTime",
          "type": "uint64"
        },
        {
          "indexed": false,
          "internalType": "uint64",
          "name": "endTime",
          "type": "uint64"
        }
      ],
      "name": "SortitionInitialized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "e3Id",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "node",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "ticketId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "score",
          "type": "uint256"
        }
      ],
      "name": "TicketSubmitted",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "bondingRegistry",
      "outputs": [
        {
          "internalType": "contract IBondingRegistry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ciphernodeRegistry",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "e3Id",
          "type": "uint256"
        }
      ],
      "name": "finalizeCommittee",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "e3Id",
          "type": "uint256"
        }
      ],
      "name": "getCommittee",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "e3Id",
          "type": "uint256"
        }
      ],
      "name": "getTopSoFar",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "e3Id",
          "type": "uint256"
        },
        {
          "internalType": "uint32",
          "name": "committeeSize",
          "type": "uint32"
        },
        {
          "internalType": "uint256",
          "name": "seed",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "initializeSortition",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "e3Id",
          "type": "uint256"
        }
      ],
      "name": "isOpen",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "submissionWindow",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "e3Id",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "ticketId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "score",
          "type": "uint256"
        }
      ],
      "name": "submitTicket",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60e060405234801561000f575f5ffd5b50604051610f1d380380610f1d83398101604081905261002e9161012e565b6001600160a01b0383166100785760405162461bcd60e51b815260206004820152600c60248201526b62616420726567697374727960a01b60448201526064015b60405180910390fd5b6001600160a01b0382166100bc5760405162461bcd60e51b815260206004820152600b60248201526a62616420626f6e64696e6760a81b604482015260640161006f565b5f81116100f85760405162461bcd60e51b815260206004820152600a6024820152696261642077696e646f7760b01b604482015260640161006f565b6001600160a01b0392831660c052911660a052608052610167565b80516001600160a01b0381168114610129575f5ffd5b919050565b5f5f5f60608486031215610140575f5ffd5b61014984610113565b925061015760208501610113565b9150604084015190509250925092565b60805160a05160c051610d786101a55f395f8181610132015261045b01525f818160f3015261031701525f818161019401526105330152610d785ff3fe608060405234801561000f575f5ffd5b506004361061009e575f3560e01c80638e6c157311610072578063da881e5a11610058578063da881e5a1461017c578063e621dbc71461018f578063ea1514a3146101c4575f5ffd5b80638e6c157314610154578063c88f60ae14610169575f5ffd5b806218449a146100a25780634d6861a6146100cb57806385814243146100ee5780638dcdd86b1461012d575b5f5ffd5b6100b56100b0366004610bed565b6101d7565b6040516100c29190610c04565b60405180910390f35b6100de6100d9366004610bed565b610241565b60405190151581526020016100c2565b6101157f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100c2565b6101157f000000000000000000000000000000000000000000000000000000000000000081565b610167610162366004610c4f565b610294565b005b610167610177366004610c78565b610450565b61016761018a366004610bed565b6105f4565b6101b67f000000000000000000000000000000000000000000000000000000000000000081565b6040519081526020016100c2565b6100b56101d2366004610bed565b6107a4565b5f818152602081815260409182902060030180548351818402810184019094528084526060939283018282801561023557602002820191905f5260205f20905b81546001600160a01b03168152600190910190602001808311610217575b50505050509050919050565b5f818152602081905260408120805460ff16158061026557508054610100900460ff165b1561027257505f92915050565b546a0100000000000000000000900467ffffffffffffffff1642111592915050565b5f838152602081905260409020805460ff166102dc576040517fffc9e8c500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6102e584610241565b610302576040516332999ab560e11b815260040160405180910390fd5b604051639f8a13d760e01b81523360048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690639f8a13d790602401602060405180830381865afa158015610364573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103889190610cba565b6103a55760405163149fbcfd60e11b815260040160405180910390fd5b335f90815260048201602052604090205460ff16156103d75760405163257309f160e11b815260040160405180910390fd5b335f8181526004830160209081526040808320805460ff1916600117905560058501909152902083905561040d9082908461080c565b6040805184815260208101849052339186917f52999628fb1cb05707e842278833b22e511f11746202cecdf221968b0b89e8bd910160405180910390a350505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104995760405163b56831db60e01b815260040160405180910390fd5b5f848152602081905260409020805460ff16156104c9576040516306e1765960e21b815260040160405180910390fd5b805460018083018590557fffffffffffffffffffff00000000ffffffffffffffffffffffffffffffff0000909116600160901b63ffffffff871602171769ffffffffffffffff00001916620100004267ffffffffffffffff811691909102919091178255610558907f000000000000000000000000000000000000000000000000000000000000000090610cf4565b815471ffffffffffffffff0000000000000000000019166a010000000000000000000067ffffffffffffffff9283168102919091178084556040805163ffffffff8916815260208101889052620100008304851691810191909152919004909116606082015285907f298ce6cec139152f1e7b795aeee6b9e8c11c7cdf0650f99dc5315f822eb4bba99060800160405180910390a25050505050565b5f818152602081905260409020805460ff1661063c576040517fffc9e8c500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b61064582610241565b1561066357604051632f021e8d60e11b815260040160405180910390fd5b8054610100900460ff161561068b57604051631860f69960e31b815260040160405180910390fd5b805461ff00191661010017815560028101545f8167ffffffffffffffff8111156106b7576106b7610d07565b6040519080825280602002602001820160405280156106e0578160200160208202803683370190505b5090505f5b8281101561074f5783600201818154811061070257610702610d1b565b905f5260205f20015f9054906101000a90046001600160a01b031682828151811061072f5761072f610d1b565b6001600160a01b03909216602092830291909101909101526001016106e5565b5080516107659060038501906020840190610b76565b50837fed38c6266ebed7c01d311349a7fa67e0ef0f1d2f4760d60dbb34ca4799a2e132826040516107969190610c04565b60405180910390a250505050565b5f818152602081815260409182902060020180548351818402810184019094528084526060939283018282801561023557602002820191905f5260205f209081546001600160a01b031681526001909101906020018083116102175750505050509050919050565b60028301548354600160901b900463ffffffff1681101561094d575f6108328584610b02565b600286018054600180820183555f8381526020812090920180546001600160a01b0319166001600160a01b038a161790559154929350916108739190610d2f565b90505b81811115610904576002860161088d600183610d2f565b8154811061089d5761089d610d1b565b5f918252602090912001546002870180546001600160a01b0390921691839081106108ca576108ca610d1b565b5f91825260209091200180546001600160a01b0319166001600160a01b0392909216919091179055806108fc81610d42565b915050610876565b508385600201828154811061091b5761091b610d1b565b905f5260205f20015f6101000a8154816001600160a01b0302191690836001600160a01b031602179055505050505050565b5f6002850161095d600184610d2f565b8154811061096d5761096d610d1b565b5f9182526020808320909101546001600160a01b0316808352600588019091526040909120549091508084106109a557505050505050565b856002018054806109b8576109b8610d57565b5f8281526020812082015f1990810180546001600160a01b03191690559091019091556109e58786610b02565b600288018054600180820183555f8381526020812090920180546001600160a01b0319166001600160a01b038c16179055915492935091610a269190610d2f565b90505b81811115610ab75760028801610a40600183610d2f565b81548110610a5057610a50610d1b565b5f918252602090912001546002890180546001600160a01b039092169183908110610a7d57610a7d610d1b565b5f91825260209091200180546001600160a01b0319166001600160a01b039290921691909117905580610aaf81610d42565b915050610a29565b5085876002018281548110610ace57610ace610d1b565b905f5260205f20015f6101000a8154816001600160a01b0302191690836001600160a01b0316021790555050505050505050565b60028201545f90815b81811015610b6c575f856002018281548110610b2957610b29610d1b565b5f9182526020808320909101546001600160a01b031680835260058901909152604090912054909150851015610b6357509150610b709050565b50600101610b0b565b5090505b92915050565b828054828255905f5260205f20908101928215610bc9579160200282015b82811115610bc957825182546001600160a01b0319166001600160a01b03909116178255602090920191600190910190610b94565b50610bd5929150610bd9565b5090565b5b80821115610bd5575f8155600101610bda565b5f60208284031215610bfd575f5ffd5b5035919050565b602080825282518282018190525f918401906040840190835b81811015610c445783516001600160a01b0316835260209384019390920191600101610c1d565b509095945050505050565b5f5f5f60608486031215610c61575f5ffd5b505081359360208301359350604090920135919050565b5f5f5f5f60808587031215610c8b575f5ffd5b84359350602085013563ffffffff81168114610ca5575f5ffd5b93969395505050506040820135916060013590565b5f60208284031215610cca575f5ffd5b81518015158114610cd9575f5ffd5b9392505050565b634e487b7160e01b5f52601160045260245ffd5b80820180821115610b7057610b70610ce0565b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b81810381811115610b7057610b70610ce0565b5f81610d5057610d50610ce0565b505f190190565b634e487b7160e01b5f52603160045260245ffdfea164736f6c634300081c000a",
  "deployedBytecode": "0x608060405234801561000f575f5ffd5b506004361061009e575f3560e01c80638e6c157311610072578063da881e5a11610058578063da881e5a1461017c578063e621dbc71461018f578063ea1514a3146101c4575f5ffd5b80638e6c157314610154578063c88f60ae14610169575f5ffd5b806218449a146100a25780634d6861a6146100cb57806385814243146100ee5780638dcdd86b1461012d575b5f5ffd5b6100b56100b0366004610bed565b6101d7565b6040516100c29190610c04565b60405180910390f35b6100de6100d9366004610bed565b610241565b60405190151581526020016100c2565b6101157f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100c2565b6101157f000000000000000000000000000000000000000000000000000000000000000081565b610167610162366004610c4f565b610294565b005b610167610177366004610c78565b610450565b61016761018a366004610bed565b6105f4565b6101b67f000000000000000000000000000000000000000000000000000000000000000081565b6040519081526020016100c2565b6100b56101d2366004610bed565b6107a4565b5f818152602081815260409182902060030180548351818402810184019094528084526060939283018282801561023557602002820191905f5260205f20905b81546001600160a01b03168152600190910190602001808311610217575b50505050509050919050565b5f818152602081905260408120805460ff16158061026557508054610100900460ff165b1561027257505f92915050565b546a0100000000000000000000900467ffffffffffffffff1642111592915050565b5f838152602081905260409020805460ff166102dc576040517fffc9e8c500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b6102e584610241565b610302576040516332999ab560e11b815260040160405180910390fd5b604051639f8a13d760e01b81523360048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690639f8a13d790602401602060405180830381865afa158015610364573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103889190610cba565b6103a55760405163149fbcfd60e11b815260040160405180910390fd5b335f90815260048201602052604090205460ff16156103d75760405163257309f160e11b815260040160405180910390fd5b335f8181526004830160209081526040808320805460ff1916600117905560058501909152902083905561040d9082908461080c565b6040805184815260208101849052339186917f52999628fb1cb05707e842278833b22e511f11746202cecdf221968b0b89e8bd910160405180910390a350505050565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146104995760405163b56831db60e01b815260040160405180910390fd5b5f848152602081905260409020805460ff16156104c9576040516306e1765960e21b815260040160405180910390fd5b805460018083018590557fffffffffffffffffffff00000000ffffffffffffffffffffffffffffffff0000909116600160901b63ffffffff871602171769ffffffffffffffff00001916620100004267ffffffffffffffff811691909102919091178255610558907f000000000000000000000000000000000000000000000000000000000000000090610cf4565b815471ffffffffffffffff0000000000000000000019166a010000000000000000000067ffffffffffffffff9283168102919091178084556040805163ffffffff8916815260208101889052620100008304851691810191909152919004909116606082015285907f298ce6cec139152f1e7b795aeee6b9e8c11c7cdf0650f99dc5315f822eb4bba99060800160405180910390a25050505050565b5f818152602081905260409020805460ff1661063c576040517fffc9e8c500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b61064582610241565b1561066357604051632f021e8d60e11b815260040160405180910390fd5b8054610100900460ff161561068b57604051631860f69960e31b815260040160405180910390fd5b805461ff00191661010017815560028101545f8167ffffffffffffffff8111156106b7576106b7610d07565b6040519080825280602002602001820160405280156106e0578160200160208202803683370190505b5090505f5b8281101561074f5783600201818154811061070257610702610d1b565b905f5260205f20015f9054906101000a90046001600160a01b031682828151811061072f5761072f610d1b565b6001600160a01b03909216602092830291909101909101526001016106e5565b5080516107659060038501906020840190610b76565b50837fed38c6266ebed7c01d311349a7fa67e0ef0f1d2f4760d60dbb34ca4799a2e132826040516107969190610c04565b60405180910390a250505050565b5f818152602081815260409182902060020180548351818402810184019094528084526060939283018282801561023557602002820191905f5260205f209081546001600160a01b031681526001909101906020018083116102175750505050509050919050565b60028301548354600160901b900463ffffffff1681101561094d575f6108328584610b02565b600286018054600180820183555f8381526020812090920180546001600160a01b0319166001600160a01b038a161790559154929350916108739190610d2f565b90505b81811115610904576002860161088d600183610d2f565b8154811061089d5761089d610d1b565b5f918252602090912001546002870180546001600160a01b0390921691839081106108ca576108ca610d1b565b5f91825260209091200180546001600160a01b0319166001600160a01b0392909216919091179055806108fc81610d42565b915050610876565b508385600201828154811061091b5761091b610d1b565b905f5260205f20015f6101000a8154816001600160a01b0302191690836001600160a01b031602179055505050505050565b5f6002850161095d600184610d2f565b8154811061096d5761096d610d1b565b5f9182526020808320909101546001600160a01b0316808352600588019091526040909120549091508084106109a557505050505050565b856002018054806109b8576109b8610d57565b5f8281526020812082015f1990810180546001600160a01b03191690559091019091556109e58786610b02565b600288018054600180820183555f8381526020812090920180546001600160a01b0319166001600160a01b038c16179055915492935091610a269190610d2f565b90505b81811115610ab75760028801610a40600183610d2f565b81548110610a5057610a50610d1b565b5f918252602090912001546002890180546001600160a01b039092169183908110610a7d57610a7d610d1b565b5f91825260209091200180546001600160a01b0319166001600160a01b039290921691909117905580610aaf81610d42565b915050610a29565b5085876002018281548110610ace57610ace610d1b565b905f5260205f20015f6101000a8154816001600160a01b0302191690836001600160a01b0316021790555050505050505050565b60028201545f90815b81811015610b6c575f856002018281548110610b2957610b29610d1b565b5f9182526020808320909101546001600160a01b031680835260058901909152604090912054909150851015610b6357509150610b709050565b50600101610b0b565b5090505b92915050565b828054828255905f5260205f20908101928215610bc9579160200282015b82811115610bc957825182546001600160a01b0319166001600160a01b03909116178255602090920191600190910190610b94565b50610bd5929150610bd9565b5090565b5b80821115610bd5575f8155600101610bda565b5f60208284031215610bfd575f5ffd5b5035919050565b602080825282518282018190525f918401906040840190835b81811015610c445783516001600160a01b0316835260209384019390920191600101610c1d565b509095945050505050565b5f5f5f60608486031215610c61575f5ffd5b505081359360208301359350604090920135919050565b5f5f5f5f60808587031215610c8b575f5ffd5b84359350602085013563ffffffff81168114610ca5575f5ffd5b93969395505050506040820135916060013590565b5f60208284031215610cca575f5ffd5b81518015158114610cd9575f5ffd5b9392505050565b634e487b7160e01b5f52601160045260245ffd5b80820180821115610b7057610b70610ce0565b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52603260045260245ffd5b81810381811115610b7057610b70610ce0565b5f81610d5057610d50610ce0565b505f190190565b634e487b7160e01b5f52603160045260245ffdfea164736f6c634300081c000a",
  "linkReferences": {},
  "deployedLinkReferences": {},
  "immutableReferences": {
    "13294": [
      {
        "length": 32,
        "start": 404
      },
      {
        "length": 32,
        "start": 1331
      }
    ],
    "13297": [
      {
        "length": 32,
        "start": 243
      },
      {
        "length": 32,
        "start": 791
      }
    ],
    "13299": [
      {
        "length": 32,
        "start": 306
      },
      {
        "length": 32,
        "start": 1115
      }
    ]
  },
  "inputSourceName": "project/contracts/sortition/CommitteeSortition.sol",
  "buildInfoId": "solc-0_8_28-a9cacbeeb68df13e87656122d54fd5cb4ca7e178"
}